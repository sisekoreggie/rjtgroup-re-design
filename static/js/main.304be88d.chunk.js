(this.webpackJsonpdiesel=this.webpackJsonpdiesel||[]).push([[0],{129:function(e,t,a){},131:function(e,t,a){},142:function(e,t,a){e.exports=a.p+"static/media/Logo.919babb1.png"},146:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAACpF6WWAAAAAXNSR0IArs4c6QAABHBJREFUOBF9VF1sFFUU/u7M7Mz+tLRLoS0of1pqa8HUGipREhtTjQlGowZjTLTyQHzQxBeJJpQEeVKJxheN+iAa8QXBgCQIgiVCm1jRqC34X21DgovBFrrd3c7szFy/c7dFaaMn2czs3HO+e853vnMUaJ/3rmmNlH4aGrdpwFJAbNs84Mv/WRTSUdwUbLr+HCu83r3z7AnVt/3GNn7ex7MWTUTP1Ui5QBgpRBE//IfZFuA4QFAGSj4hKwlMaIUeR0M9y/8tEluV0rhcVDhy2sXwmI0CAyq+85EltabGGHe1B1i6KEaBwHGMrNLY5vBsvYRkkhpf/Ojg7aNJ1qRw83VlLKnjq9Q315glWPrQbzYOf53Bpg0+7r81QMA0Y421DktWGWY4dsHGywfT6FgR4qmNJSxcoA2gQ24TrEeIFnrKpCXkRXLZpbyFw6cTeOPTFCnT2NhZxmRBKYcN0XLx3n4XK7IRnnuoBIsg+ZJClacxHSgMj9oYn7RYTYzV18RoyMZ47UAKx4ddvLq5gFLZx8eDHrrWhnATWjuerXFhwsIP5PDRLh8ugfIFAjL7X85b2NOXwu9/EtCOMR0q1LKCnjt9ZKtj1FRplALg3s4A/cMJ/HTORsfqEJIpxglSZlPqqjVCclVFfr8bcfDCh2msWhxh6wMlNDK7qWmFg4Munt+TwTP3FPHWk1MIIqDIJqWZTG7Chm0RVHogXFGjEAUJhyUGv3fSw7K6CC8+XkSKl0wzsL42xtYHSQ/52n0qiY7mApYsjJGnYiR+tqdC51WyEf3lSMc4fw9vCJAWmbESnxXkeVnA56bbfVhlhf4zCWb2TzyhjRnQmXfz4HQYEPYKjbXaiHv2XIJ8gi1IayzOxPhrUkmCMlFX2TxQoaImQ26p4tyEgmsIqsTImZfQmGS5FwsW6mqoRx4Z+v4Fa0DltlmLSExjbYQss9w74KHAkmvZZdFhNTOUS/YNuPCpmnXNIcfZ0GnCZ3EMqAhbTJ7i5HnA5jt85MYVtr2fxsDZBEb+cDA06mDX/iSOfuNiC+W3vD5CkTo2g8F4GV0xR0CyzCTBJTKeV2ZJcCrQTr291FPE7uMeXjmQhOIkxUxBpLXjkSLW3RCaAUkm2NgCZUWuGzg8MmlOQOf6mhgty2N88pWLrptCoznhbWVDhF4C/HreZlMqE9W0lKIn56KEBCnIsKpDXyaRpuyar404Xaw4iqC4BygfH6MU766PUmyEZYBFtx4zab8+RHdHGetbQ8OvVJcmx2DgO8eSOEQ67uv0ITskKCulPtve9j0xW1O88dsRG28eSRqhr6qP6cRaJJY8CV3yFBMJ+eTy3EUbUxzTx8j/3bcERm5UQkH19ba9y4gecc5w610iPyeHXAyNWSzFmqdB8RMJ2ZRcE+mRCpYt0pjyr6zJQXViR+saHVn76dtsdHhl81e2v2Q41yRj22JzKS9/ZvPPDMBlpeMnTEwFWG1hYc0MIFNKm/HjqQDMNQmS75rcCu+K7vyQiy31QffOM8f+BvST5AJDBUMKAAAAAElFTkSuQmCC"},147:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAACpF6WWAAAAAXNSR0IArs4c6QAAA1JJREFUOBGVVE1LVGEUft774YyjGWVaSKhh5VdjmYFkEgVShrRo0TL6Bblr18JF/6AgWoWtggiKatNCW0WUIgmKYYlRpIEZpY4z9+vtOXfmXkdTscO898573nOe85yP9ypQXg001tiefVVDt2ulTcWH6HciNFX8+YCaUJb3+PzA1KwautXWqJT/gCindwKynQ0xxhT0NQPwb/4voKQha6MooF3DuG1Bobv4kAebOkQ2tgnYNgsVKOQ8IAgAk9TkLYHItINblEYO8i6xuaxiTeE/o6USGksZhfEZCzNzBsE0ypMajkvANeqBuLPIEoHCEKPTJmqrAtRWB1haVXClBTxKlWi8mbTxcDiBuQUjDHymxUV9tQ+lFHo6HJg0DJhEzMkgINuIp28TyDByf18Whw/6KCUDYTT9zcTd50nMLRkoo/MKbV6OljCcRu8JF91phV2pAL6nEIMKfanX3nKNoTGyGTTR1eTiXNpFx1EX3xdN/FpRKGdgsRP2ps99Cuhq8bCbgA4BRb8OlFTRSYD3Hy0sLgMvRkow/MFGwwEfFi2TBNNxQ4AciRyv8dHZ7MJjgEhiUJMOUvCRTxaydExxb5CVz5pOfLVYbo2EMCz4Sl+kGZUVAWgGnz6RSPdDEWWSzTh2yIOi1uPIiMi4pCwCSvgCoLx8nosqXe/DsFQ4UtyGEoNKTXOuQu9JF9fPZsPxiaILq42yyjbXV/noOOLBZYZRBmIXg8qGdpAsLM7qHw62U5SSnIsISxkz5oO+TidM36FtscQ1FWU4wHxc6XKwp0zj0esEvvwwYLGWIgLoMdCSZkZtLi4wq2wuPFr3iEENemQcxXm0w2tYxptSIUMqwpdPIGkgM8XFtIMbl7O8fRpZ+myUGFTckzT6zVl89i6B8VkLDrnZISKvLn3r9wesuYNLp3JIJkgil5/LzUDDukrqUuyuVhdNdT4mZk3MzJtYzXLAybiB89hK/T6OUI5DnmHa/3LMw8dMZSvADodYblVPu8u9GzZPrrAQlhuzzCAiWwHyyBTQz1x1XHkJnTlehSsnzlSFaxuggnNo+JMc1H3+zaxp8/8iAAEUifb53ZZP+WTdsRammp9UNk/yq6X6mW8NzTeZzi1BogP52M9Dq3vEG/wLYK1D8MI1LnUAAAAASUVORK5CYII="},153:function(e,t,a){e.exports=a.p+"static/media/diesel-truck-1.2d992818.jpeg"},154:function(e,t,a){e.exports=a.p+"static/media/diesel-truck-2.5ff133d6.jpeg"},155:function(e,t,a){e.exports=a.p+"static/media/diesel-truck-3.6ce88690.jpeg"},160:function(e,t,a){e.exports=a(296)},170:function(e,t,a){},171:function(e,t,a){},173:function(e,t,a){},193:function(e,t,a){},217:function(e,t,a){},218:function(e,t,a){},232:function(e,t,a){},296:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"getAllOrders",(function(){return qe})),a.d(n,"setOrders",(function(){return Ie})),a.d(n,"getUserOrders",(function(){return Fe}));var r=a(0),l=a.n(r),s=a(24),o=a.n(s),i=a(32),c=a(28),d=(a(169),a(159)),m=a(23),u=new Date,h={orders:[],orderNumber:"",displayDelivery:!1,displayOnSite:!1,quantity:"",collectionDate:u,collectingVehicleRegistration:"",deliveryAddress:"",deliveryDate:u,contactPerson:"",collectingPerson:"",contactPersonCellNumber:"",contactPersonEmail:"",totalPrice:0,quoteShowAddress:!1,quoteQuantity:"",quoteAddress:"",quoteDistance:"",quoteFinalDieselPrice:""},p="SET_ORDERS",E="ADD_ORDER",g="SET_ORDER_NUMBER",b="SET_COLLECTING_VEHICLE",v="SET_QUANTITY",y="SET_COLLECTION_DATE",f="SET_DELIVERY_ADDRESS",C="SET_DELIVERY_DATE",N="SET_CONTACT_PERSON",O="SET_COLLECTING_PERSON",w="SET_CELLPHONE_NUMBER",A="SET_CONTACT_EMAIL",j="SET_TOTAL_PRICE",H="SET_DISPLAY_VALUES",k="SET_QUOTE_QUANTITY",S="SET_QUOTE_ADDRESS",T="SET_QUOTE_DISTANCE",D="SET_QUOTE_SHOW_ADDRESS",M="SET_QUOTE_FINAL_DIESEL_PRICE",P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(m.a)({},e,{orders:t.payload});case E:return Object(m.a)({},e,{orders:[].concat(Object(d.a)(e.orders),[t.order])});case g:return Object(m.a)({},e,{orderNumber:t.payload});case b:return Object(m.a)({},e,{collectingVehicleRegistration:t.payload});case v:return Object(m.a)({},e,{quantity:t.payload});case y:return Object(m.a)({},e,{collectionDate:t.payload});case f:return Object(m.a)({},e,{deliveryAddress:t.payload});case C:return Object(m.a)({},e,{deliveryDate:t.payload});case N:return Object(m.a)({},e,{contactPerson:t.payload});case O:return Object(m.a)({},e,{collectingPerson:t.payload});case w:return Object(m.a)({},e,{contactPersonCellNumber:t.payload});case A:return Object(m.a)({},e,{contactPersonEmail:t.payload});case j:return Object(m.a)({},e,{totalPrice:t.payload});case H:return Object(m.a)({},e,{},t.payload);default:return e}},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return Object(m.a)({},e,{quoteQuantity:t.payload});case S:return Object(m.a)({},e,{quoteAddress:t.payload});case T:return Object(m.a)({},e,{quoteDistance:t.payload});case D:return Object(m.a)({},e,{quoteShowAddress:t.payload});case M:return Object(m.a)({},e,{quoteFinalDieselPrice:t.payload});default:return e}},x=Object(c.c)({orderReducer:P,quoteReducer:R}),q=a(141);a(170),a(112),a(171);var I=a(25),F=a.n(I),U=a(10),L=a(11),Q=a(13),_=a(12),B=a(14),W=(a(173),a(9)),V=a.n(W),Y=a(142),G=a.n(Y),z=a(51),J=a(69),K=a(41),X=a.n(K),Z="https://rjtgroup.co.za",$="https://api.rjtgroup.co.za",ee="RJT Group",te=13.4,ae=23,ne=void 0!==X.a.load("session_token"),re=ne?X.a.load("user_id"):"",le=function(){ne&&(X.a.remove("session_token",{path:"/"}),X.a.remove("user_session",{path:"/"}),X.a.remove("user_id",{path:"/"}))},se=function(e){function t(){var e;return Object(U.a)(this,t),(e=Object(Q.a)(this,Object(_.a)(t).call(this))).state={isAdmin:!1},e}return Object(B.a)(t,e),Object(L.a)(t,[{key:"componentWillMount",value:function(){var e;return F.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F.a.awrap(V.a.post("".concat($,"/users/user"),{userId:re}));case 2:e=t.sent,this.setState({isAdmin:e.data.admin});case 4:case"end":return t.stop()}}),null,this)}},{key:"render",value:function(){var e=ne,t=e?{path:"/",name:"Logout"}:{path:"/login",name:"Login"},a=e?l.a.createElement(z.a.Link,{href:"/dashboard"},"Dashboard"):"",n=e?l.a.createElement(z.a.Link,{href:"/order"},"Order Diesel"):"",r=e&&this.state.isAdmin?l.a.createElement(z.a.Link,{href:"/manage-users"},"Manage Users"):"";return l.a.createElement("div",null,l.a.createElement(J.a,{className:"page-header",collapseOnSelect:!0,expand:"lg",variant:"dark"},l.a.createElement(J.a.Brand,{href:"/"},l.a.createElement("img",{className:"logo-image",alt:"Logo Image",src:G.a})),l.a.createElement(J.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),l.a.createElement(J.a.Collapse,{id:"responsive-navbar-nav"},l.a.createElement(z.a,{className:"mr-auto"}),l.a.createElement(z.a,null,l.a.createElement(z.a.Link,{href:"/contact"},"Contact Us"),n,a,r,l.a.createElement(z.a.Link,{onSelect:le,href:t.path,id:"login-logout"},t.name)))),l.a.createElement("div",{className:"marigold-space"}))}}]),t}(l.a.Component),oe=(a(193),a(146)),ie=a.n(oe),ce=a(147),de=a.n(ce),me=a(68),ue=function(e){function t(){return Object(U.a)(this,t),Object(Q.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(B.a)(t,e),Object(L.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"marigold-space"}),l.a.createElement(me.e,{color:"blue",className:"font-small pt-4 diesel-footer"},l.a.createElement(me.d,{fluid:!0,className:"text-center text-md-center"},l.a.createElement(me.i,{center:!0,className:"d-flex justify-content-center"},l.a.createElement("li",{className:"list-unstyled"},l.a.createElement("a",{href:"http://twitter.com/group_rjt?s=08"},l.a.createElement("img",{src:de.a})),"\xa0\xa0"),l.a.createElement("li",{className:"list-unstyled"},l.a.createElement("a",{href:"http://instagram.com/?hl=en"},l.a.createElement("img",{src:ie.a}))))),l.a.createElement("div",{className:"footer-copyright text-center py-3"},l.a.createElement(me.d,{fluid:!0},"\xa9 ",(new Date).getFullYear()," Copyright: RJT Group"))))}}]),t}(l.a.Component),he=a(152),pe=(a(216),a(217),a(153)),Ee=a.n(pe),ge=a(154),be=a.n(ge),ve=a(155),ye=a.n(ve),fe=function(e){function t(){return Object(U.a)(this,t),Object(Q.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(B.a)(t,e),Object(L.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"carouselWrapper"},l.a.createElement(he.Carousel,{showThumbs:!1},l.a.createElement("div",null,l.a.createElement("img",{className:"img-fluid responsive-image",src:Ee.a,alt:"First truck"})),l.a.createElement("div",null,l.a.createElement("img",{className:"img-fluid responsive-image",src:be.a,alt:"Second truck"})),l.a.createElement("div",null,l.a.createElement("img",{className:"img-fluid responsive-image",src:ye.a,alt:"Third truck"}))))}}]),t}(l.a.Component),Ce=function(e){function t(){return Object(U.a)(this,t),Object(Q.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(B.a)(t,e),Object(L.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"about"},l.a.createElement("div",{className:"content"},l.a.createElement("h1",{className:"heading"},"WHO ",l.a.createElement("span",{className:"underline-space"}),l.a.createElement("br",null),"WE ARE"),l.a.createElement("p",{className:"text"},"We provide bulk diesel sales to clients in a range of sectors at reasonable costs without compromising quality or excellent service. We come from a humble community where our contribution plays a humble community where our contribution plays and will continue to play a development role."),l.a.createElement("p",null,"RJT group is aiming at being the most reliable and high-quality contractor in the field. We strive to build a sustainable business in order to assist our communities indefinitely."))))}}]),t}(l.a.Component),Ne=a(5),Oe=(a(129),a(218),a(26)),we=a.n(Oe),Ae=function(e){function t(){var e;return Object(U.a)(this,t),(e=Object(Q.a)(this,Object(_.a)(t).call(this))).submitHandler=function(t){t.preventDefault(),e.validator.allValid()?e.getDistance():e.validator.showMessages()},e.validator=new we.a({autoForceUpdate:Object(Ne.a)(e),className:"text-danger"}),e.deliveryClick=e.deliveryClick.bind(Object(Ne.a)(e)),e.onSiteClick=e.onSiteClick.bind(Object(Ne.a)(e)),e.submitHandler=e.submitHandler.bind(Object(Ne.a)(e)),e.addressChangeHandler=e.addressChangeHandler.bind(Object(Ne.a)(e)),e.getDistance=e.getDistance.bind(Object(Ne.a)(e)),e.quantityChangeHandler=e.quantityChangeHandler.bind(Object(Ne.a)(e)),e}return Object(B.a)(t,e),Object(L.a)(t,[{key:"getDistance",value:function(){var e,t=this;return F.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(e=this.props.quoteQuantity*te,this.props.dispatch({type:"SET_QUOTE_FINAL_DIESEL_PRICE",payload:e}),!this.props.quoteShowAddress){a.next=7;break}return a.next=5,F.a.awrap(V.a.post("".concat($,"/calculations/distance"),{address:this.props.quoteAddress}).then((function(e){t.props.dispatch({type:"SET_QUOTE_DISTANCE",payload:e.data.distance.replace(" km","")}),t.props.history.push("/quote/details")})).catch((function(e){console.log(e)})));case 5:a.next=8;break;case 7:this.props.history.push("/quote/details");case 8:case"end":return a.stop()}}),null,this)}},{key:"quantityChangeHandler",value:function(e){var t=e.target.value;this.props.dispatch({type:"SET_QUOTE_QUANTITY",payload:t})}},{key:"addressChangeHandler",value:function(e){var t=e.target.value;this.props.dispatch({type:"SET_QUOTE_ADDRESS",payload:t})}},{key:"deliveryClick",value:function(){this.props.dispatch({type:"SET_QUOTE_SHOW_ADDRESS",payload:!this.props.quoteShowAddress})}},{key:"onSiteClick",value:function(){this.props.dispatch({type:"SET_QUOTE_SHOW_ADDRESS",payload:!1})}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"quote"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{class:"card-header"},l.a.createElement("h4",{className:"text-left"},"Get A Quote")),l.a.createElement("div",{className:"card-body"},l.a.createElement("form",{onSubmit:this.submitHandler},l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",id:"quantity",placeholder:"Quantity (in litres)",value:this.props.quoteQuantity,onChange:this.quantityChangeHandler}),this.validator.message("quantity",this.props.quoteQuantity,"required|numeric")),l.a.createElement("div",{className:"form-group labelWithButtons"},l.a.createElement("label",null,"Order Method"),l.a.createElement("div",{className:"btn-toolbar buttonWrapper",role:"toolbar","aria-label":"Toolbar with button groups"},l.a.createElement("div",{className:"btn-group mr-2",role:"group","aria-label":"First group"},l.a.createElement("button",{type:"button",className:"btn",onClick:this.onSiteClick},"On Site Collection")),l.a.createElement("div",{className:"btn-group mr-2",role:"group","aria-label":"Second group"},l.a.createElement("button",{type:"button",className:"btn",onClick:this.deliveryClick},"Delivery")))),l.a.createElement("div",{style:{display:this.props.quoteShowAddress?"block":"none"}},l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",id:"message",placeholder:"Address",value:this.props.quoteAddress,onChange:this.addressChangeHandler}),this.props.quoteShowAddress?this.validator.message("address",this.props.quoteAddress,"required"):"")),l.a.createElement("div",{className:"text-left"},l.a.createElement("button",{type:"submit",className:"btn"},"Generate Quote")))))))}}]),t}(l.a.Component),je=Object(i.b)((function(e){return{quoteShowAddress:e.quoteReducer.quoteShowAddress,quoteQuantity:e.quoteReducer.quoteQuantity,quoteAddress:e.quoteReducer.quoteAddress,quoteDistance:e.quoteReducer.quoteDistance,quoteFinalDieselPrice:e.quoteReducer.quoteFinalDieselPrice}}),(function(e){return{dispatch:e}}))(Ae),He=a(15);var ke=function(){return l.a.createElement("div",{className:"App"},l.a.createElement(He.Helmet,null,l.a.createElement("title",null,"Home - ",ee)),l.a.createElement(se,null),l.a.createElement(fe,null),l.a.createElement(Ce,null),l.a.createElement(je,null),l.a.createElement(ue,null))},Se=(a(131),a(16)),Te=a(306),De=a(305),Me=function(e){function t(){var e;return Object(U.a)(this,t),(e=Object(Q.a)(this,Object(_.a)(t).call(this))).submitHandler=function(t){if(t.preventDefault(),e.validator.allValid()){var a=Object(Se.renderEmail)(l.a.createElement(Se.Email,{title:"link"},l.a.createElement(Se.Item,null,"Hello Admin"),l.a.createElement(Se.Item,null),l.a.createElement(Se.Item,null,"Details:"),l.a.createElement(Se.Item,null,"Name: ",e.state.name),l.a.createElement(Se.Item,null,"Email: ",e.state.email),l.a.createElement(Se.Item,null,"Phone Number: ",e.state.number),l.a.createElement(Se.Item,null,"Subject: ",e.state.subject),l.a.createElement(Se.Item,null,"Message: ",e.state.message)));V.a.post("".concat($,"/email"),{to:"sisekoreggieneti@gmail.com",from:"admin@rjtgroup.co.za",subject:"Contact Us Form",bodyHtml:a}).then((function(){e.setState({showModal:!0})})).catch((function(){console.log("failed to send email")}))}else e.validator.showMessages()},e.validator=new we.a({autoForceUpdate:Object(Ne.a)(e),className:"text-danger"}),e.nameChangeHandler=e.nameChangeHandler.bind(Object(Ne.a)(e)),e.emailChangeHandler=e.emailChangeHandler.bind(Object(Ne.a)(e)),e.numberChangeHandler=e.numberChangeHandler.bind(Object(Ne.a)(e)),e.subjectChangeHandler=e.subjectChangeHandler.bind(Object(Ne.a)(e)),e.messageChangeHandler=e.messageChangeHandler.bind(Object(Ne.a)(e)),e.closeModal=e.closeModal.bind(Object(Ne.a)(e)),e.submitHandler=e.submitHandler.bind(Object(Ne.a)(e)),e.state={name:"",email:"",number:"",subject:"",message:"",showModal:!1},e}return Object(B.a)(t,e),Object(L.a)(t,[{key:"closeModal",value:function(){this.setState({showModal:!1}),window.location.reload()}},{key:"nameChangeHandler",value:function(e){this.setState({name:e.target.value})}},{key:"emailChangeHandler",value:function(e){this.setState({email:e.target.value})}},{key:"numberChangeHandler",value:function(e){this.setState({number:e.target.value})}},{key:"subjectChangeHandler",value:function(e){this.setState({subject:e.target.value})}},{key:"messageChangeHandler",value:function(e){this.setState({message:e.target.value})}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(He.Helmet,null,l.a.createElement("title",null,"Contact Us - ",ee)),l.a.createElement(se,null),l.a.createElement("div",null,l.a.createElement("div",{className:"contact"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-3"},l.a.createElement("h2",null,"Contact Us")),l.a.createElement("div",{className:"col-9"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-body"},l.a.createElement("form",{id:"contact-form",onSubmit:this.submitHandler},l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",id:"name",placeholder:"Full name",value:this.state.name,onChange:this.nameChangeHandler}),this.validator.message("full name",this.state.name,"required|string")),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"email",className:"form-control",id:"email",placeholder:"Email address",value:this.state.email,onChange:this.emailChangeHandler}),this.validator.message("email address",this.state.email,"required|email")),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",id:"number",placeholder:"Phone number",value:this.state.number,onChange:this.numberChangeHandler}),this.validator.message("phone number",this.state.number,"phone")),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"subject",className:"form-control",id:"subject",placeholder:"Subject",value:this.state.subject,onChange:this.subjectChangeHandler})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Message"),l.a.createElement("textarea",{className:"form-control",id:"message",rows:"6",value:this.state.message,onChange:this.messageChangeHandler}),this.validator.message("message",this.state.message,"required|string")),l.a.createElement("div",{className:"mx-auto"},l.a.createElement("button",{type:"submit",className:"btn text-right"},"Submit"))))))),l.a.createElement("div",{className:"row row-margin"},l.a.createElement("div",{className:"col-3"},l.a.createElement("h2",null,"Get In Touch")),l.a.createElement("div",{className:"col-9"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-body text-center"},l.a.createElement("p",null,"35851 Cephe Crescent, Harare, Khayelitsha, 7784"),l.a.createElement("p",null,"Tel: ",l.a.createElement("a",{href:"tel:+27137733001"},"+27 137 733 001")," / ",l.a.createElement("a",{href:"tel:+27768296398"},"+27 768 296 398")),l.a.createElement("p",null,l.a.createElement("a",{href:"mailto:admin@rjtgroup.co.za"},"admin@rjtgroup.co.za")," / ",l.a.createElement("a",{href:"mailto:mpilo@rjtgroup.co.za"},"mpilo@rjtgroup.co.za")))))))),l.a.createElement(ue,null),l.a.createElement(Te.a,{show:this.state.showModal,onHide:this.closeModal,animation:!1},l.a.createElement(Te.a.Header,{closeButton:!0},l.a.createElement(Te.a.Title,null,"Contact Form")),l.a.createElement(Te.a.Body,null,"Your message has been submitted and one of our team members will get to you shortly."),l.a.createElement(Te.a.Footer,null,l.a.createElement(De.a,{variant:"primary",onClick:this.closeModal},"Thank You!!!"))))}}]),t}(l.a.Component),Pe=(a(232),a(109)),Re=a.n(Pe),xe=a(49);a(233);function qe(){return function(e){return V.a.post("".concat($,"/user/allorders")).then((function(t){e(Ie(t.data.orders))}))}}var Ie=function(e){return{type:p,payload:e}};function Fe(e){return function(t){return V.a.post("".concat($,"/user/orders"),{userId:e}).then((function(e){t(Ie(e.data.orders))})).catch()}}var Ue=function(e){function t(){var e;return Object(U.a)(this,t),(e=Object(Q.a)(this,Object(_.a)(t).call(this))).validator=new we.a({autoForceUpdate:Object(Ne.a)(e),className:"text-danger"}),e.deliveryClick=e.deliveryClick.bind(Object(Ne.a)(e)),e.onSiteClick=e.onSiteClick.bind(Object(Ne.a)(e)),e.quantityChangeHandler=e.quantityChangeHandler.bind(Object(Ne.a)(e)),e.collectionDateChangeHandler=e.collectionDateChangeHandler.bind(Object(Ne.a)(e)),e.vehicleRegistrationChangeHandler=e.vehicleRegistrationChangeHandler.bind(Object(Ne.a)(e)),e.deliveryAddressChangeHandler=e.deliveryAddressChangeHandler.bind(Object(Ne.a)(e)),e.deliveryDateChangeHandler=e.deliveryDateChangeHandler.bind(Object(Ne.a)(e)),e.contactPersonChangeHandler=e.contactPersonChangeHandler.bind(Object(Ne.a)(e)),e.collectingPersonChangeHandler=e.collectingPersonChangeHandler.bind(Object(Ne.a)(e)),e.contactPersonCellNumberChangeHandler=e.contactPersonCellNumberChangeHandler.bind(Object(Ne.a)(e)),e.contactPersonEmailChangeHandler=e.contactPersonEmailChangeHandler.bind(Object(Ne.a)(e)),e.calculateTotalPrice=e.calculateTotalPrice.bind(Object(Ne.a)(e)),e.submitHandler=e.submitHandler.bind(Object(Ne.a)(e)),e}return Object(B.a)(t,e),Object(L.a)(t,[{key:"componentDidMount",value:function(){re||this.props.history.push("/login")}},{key:"quantityChangeHandler",value:function(e){var t=e.target.value;this.props.dispatch({type:"SET_QUANTITY",payload:t})}},{key:"collectionDateChangeHandler",value:function(e){this.props.dispatch({type:"SET_COLLECTION_DATE",payload:e})}},{key:"vehicleRegistrationChangeHandler",value:function(e){var t=e.target.value;this.props.dispatch({type:"SET_COLLECTING_VEHICLE",payload:t})}},{key:"deliveryAddressChangeHandler",value:function(e){var t=e.target.value;this.props.dispatch({type:"SET_DELIVERY_ADDRESS",payload:t})}},{key:"deliveryDateChangeHandler",value:function(e){this.props.dispatch({type:"SET_DELIVERY_DATE",payload:e})}},{key:"contactPersonChangeHandler",value:function(e){var t=e.target.value;this.props.dispatch({type:"SET_CONTACT_PERSON",payload:t})}},{key:"collectingPersonChangeHandler",value:function(e){var t=e.target.value;this.props.dispatch({type:"SET_COLLECTING_PERSON",payload:t})}},{key:"contactPersonCellNumberChangeHandler",value:function(e){var t=e.target.value;this.props.dispatch({type:"SET_CELLPHONE_NUMBER",payload:t})}},{key:"contactPersonEmailChangeHandler",value:function(e){var t=e.target.value;this.props.dispatch({type:"SET_CONTACT_EMAIL",payload:t})}},{key:"deliveryClick",value:function(){var e=this.props.displayDelivery;this.props.dispatch({type:"SET_DISPLAY_VALUES",payload:{displayDelivery:!e,displayOnSite:!!e&&this.props.displayOnSite}})}},{key:"onSiteClick",value:function(){var e=this.props.displayOnSite;this.props.dispatch({type:"SET_DISPLAY_VALUES",payload:{displayOnSite:!e,displayDelivery:!!e&&this.props.displayDelivery}})}},{key:"calculateTotalPrice",value:function(){var e,t,a=this;return F.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(this.props.quantity){n.next=4;break}console.log("Quantity is empty"),n.next=14;break;case 4:if(!this.props.displayOnSite){n.next=9;break}e=parseFloat(this.props.quantity)*te,this.props.dispatch({type:"SET_TOTAL_PRICE",payload:e}),n.next=14;break;case 9:if(!this.props.deliveryAddress){n.next=14;break}return t=parseFloat(this.props.quantity)*te,n.next=13,F.a.awrap(V.a.post("".concat($,"/calculations/distance"),{address:this.props.deliveryAddress}).then((function(e){var n=e.data.distance.replace(" km",""),r=parseFloat(n)*ae+t;a.props.dispatch({type:"SET_TOTAL_PRICE",payload:r})})).catch((function(e){console.log(e)})));case 13:n.sent;case 14:case"end":return n.stop()}}),null,this)}},{key:"returnTwoDigitNumber",value:function(e){return("0"+e).slice(-2)}},{key:"generateOrderNumber",value:function(){var e=new Date,t=this.returnTwoDigitNumber(Math.floor(100*Math.random())+1),a=this.returnTwoDigitNumber(e.getMonth()+1),n=this.returnTwoDigitNumber(e.getDate()),r=this.returnTwoDigitNumber(e.getHours()),l=this.returnTwoDigitNumber(e.getMinutes()),s=this.returnTwoDigitNumber(e.getSeconds()),o="".concat(a).concat(n,"-").concat(r).concat(l,"-").concat(s).concat(t);this.props.dispatch({type:"SET_ORDER_NUMBER",payload:o})}},{key:"submitHandler",value:function(e){var t,a=this;return F.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),!this.validator.allValid()){n.next=11;break}return n.next=4,F.a.awrap(this.generateOrderNumber());case 4:return n.next=6,F.a.awrap(this.calculateTotalPrice());case 6:return t={quantity:this.props.quantity,orderMethod:this.props.displayOnSite?"onSite":"delivery",deliveryDate:this.props.deliveryDate,deliveryAddress:this.props.deliveryAddress,collectionDate:this.props.collectionDate,collectingVehicleRegistration:this.props.collectingVehicleRegistration,contactPersonName:this.props.contactPerson,collectingPerson:this.props.collectingPerson,contactPersonCellNumber:this.props.contactPersonCellNumber,contactPersonEmail:this.props.contactPersonEmail,customerId:""!==re?re:"0",totalPrice:this.props.totalPrice,orderNumber:this.props.orderNumber},n.next=9,F.a.awrap(V.a.post("".concat($,"/order"),t).then((function(e){var t=e.data.orderId;a.props.history.push("/order/payment?id=".concat(t))})).catch((function(){console.log("failed to send email")})));case 9:n.next=12;break;case 11:this.validator.showMessages();case 12:case"end":return n.stop()}}),null,this)}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(He.Helmet,null,l.a.createElement("title",null,"Order Diesel - ",ee)),l.a.createElement(se,null),l.a.createElement("div",{className:"container-wrapper"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"card"},l.a.createElement("h2",{className:"text-center"},"Order Diesel"),l.a.createElement("div",{className:"card-body"},l.a.createElement("form",{onSubmit:this.submitHandler},l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",id:"quantity",placeholder:"Quantity (in litres)",value:this.props.quantity,onChange:this.quantityChangeHandler}),this.validator.message("quantity",this.props.quantity,"required|numeric")),l.a.createElement("div",{className:"form-group labelWithButtons"},l.a.createElement("label",null,"Order Method"),l.a.createElement("div",{className:"btn-toolbar buttonWrapper",role:"toolbar","aria-label":"Toolbar with button groups"},l.a.createElement("div",{className:"btn-group mr-2",role:"group","aria-label":"First group"},l.a.createElement("button",{type:"button",className:"btn btn-info",onClick:this.onSiteClick},"On Site Collection")),l.a.createElement("div",{className:"btn-group mr-2",role:"group","aria-label":"Second group"},l.a.createElement("button",{type:"button",className:"btn btn-info",onClick:this.deliveryClick},"Delivery"))),this.props.displayDelivery||this.props.displayOnSite?"":this.validator.message("order method",this.props.deliveryDate,"required")),l.a.createElement("div",{id:"deliveryWrapper",style:{display:this.props.displayDelivery?"block":"none"}},l.a.createElement("div",{className:"form-group labelWithButtons"},l.a.createElement("label",null,"Delivery Date"),l.a.createElement("div",{className:"buttonWrapper"},l.a.createElement(Re.a,{selected:this.props.deliveryDate,name:"deliveryDate",dateFormat:"dd MMMM yyyy",value:this.props.deliveryDate,onChange:this.deliveryDateChangeHandler,className:"form-control"})),this.props.displayDelivery?this.validator.message("delivery date",this.props.deliveryDate,"required"):""),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",id:"address",placeholder:"Delivery Address",value:this.props.deliveryAddress,onChange:this.deliveryAddressChangeHandler}),this.props.displayDelivery?this.validator.message("delivery address",this.props.deliveryAddress,"required|string"):""),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",id:"contactPerson",placeholder:"Contact Person Name",value:this.props.contactPerson,onChange:this.contactPersonChangeHandler}),this.props.displayDelivery?this.validator.message("contact person name",this.props.contactPerson,"required|string"):"")),l.a.createElement("div",{id:"onSiteCollectionWrapper",style:{display:this.props.displayOnSite?"block":"none"}},l.a.createElement("div",{className:"form-group labelWithButtons"},l.a.createElement("label",null,"Collection Date"),l.a.createElement("div",{className:"buttonWrapper"},l.a.createElement(Re.a,{selected:this.props.collectionDate,name:"collectionDate",dateFormat:"dd MMMM yyyy",value:this.props.collectionDate,onChange:this.collectionDateChangeHandler,className:"form-control"})),this.props.displayOnSite?this.validator.message("collection date",this.props.collectionDate,"required"):""),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",id:"vehicleRegistration",placeholder:"Collecting Vehicle Registration",value:this.props.collectingVehicleRegistration,onChange:this.vehicleRegistrationChangeHandler}),this.props.displayOnSite?this.validator.message("collecting vehicle registration",this.props.collectingVehicleRegistration,"required|string"):""),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",id:"collectingPerson",placeholder:"Collecting Person Name",value:this.props.collectingPerson,onChange:this.collectingPersonChangeHandler}),this.props.displayOnSite?this.validator.message("collecting person name",this.props.collectingPerson,"required|string"):"")),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",id:"contactNumber",placeholder:"Contact Person Cell Number",value:this.props.contactPersonCellNumber,onChange:this.contactPersonCellNumberChangeHandler}),this.validator.message("cell number",this.props.contactPersonCellNumber,"required|phone")),ne?"":l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"email",className:"form-control",id:"contactEmail",placeholder:"Contact Person Email",value:this.props.contactPersonEmail,onChange:this.contactPersonEmailChangeHandler}),this.validator.message("contact person email",this.props.contactPersonEmail,"required|email")),l.a.createElement("div",{className:"mx-auto"},l.a.createElement("button",{type:"submit",className:"btn btn-primary text-right"},"Place Order"))))))),l.a.createElement(ue,null))}}]),t}(l.a.Component),Le=Object(i.b)((function(e){return{quantity:e.orderReducer.quantity,collectionDate:e.orderReducer.collectionDate,collectingVehicleRegistration:e.orderReducer.collectingVehicleRegistration,deliveryAddress:e.orderReducer.deliveryAddress,deliveryDate:e.orderReducer.deliveryDate,contactPerson:e.orderReducer.contactPerson,collectingPerson:e.orderReducer.collectingPerson,contactPersonCellNumber:e.orderReducer.contactPersonCellNumber,contactPersonEmail:e.orderReducer.contactPersonEmail,orderNumber:e.orderReducer.orderNumber,displayDelivery:e.orderReducer.displayDelivery,displayOnSite:e.orderReducer.displayOnSite,totalPrice:e.orderReducer.totalPrice}}),(function(e){return{dispatch:e,orderActions:Object(c.b)(n,e)}}))(Object(xe.e)(Ue)),Qe=(a(91),function(e){function t(){var e;return Object(U.a)(this,t),(e=Object(Q.a)(this,Object(_.a)(t).call(this))).submitPayment=e.submitPayment.bind(Object(Ne.a)(e)),e.paymentMethodChangeHandler=e.paymentMethodChangeHandler.bind(Object(Ne.a)(e)),e.cardHolderChangeHandler=e.cardHolderChangeHandler.bind(Object(Ne.a)(e)),e.cardNumberChangeHandler=e.cardNumberChangeHandler.bind(Object(Ne.a)(e)),e.expiryDateChangeHandler=e.expiryDateChangeHandler.bind(Object(Ne.a)(e)),e.securityCodeChangeHandler=e.securityCodeChangeHandler.bind(Object(Ne.a)(e)),e.validator=new we.a({autoForceUpdate:Object(Ne.a)(e),className:"text-danger"}),e.state={paymentMethod:"",cardholder:"",cardnumber:"",expirydate:"",securitycode:""},e}return Object(B.a)(t,e),Object(L.a)(t,[{key:"componentDidMount",value:function(){re||this.props.history.push("/login")}},{key:"paymentMethodChangeHandler",value:function(e){this.setState({paymentMethod:e.target.value})}},{key:"cardHolderChangeHandler",value:function(e){this.setState({cardholder:e.target.value})}},{key:"cardNumberChangeHandler",value:function(e){this.setState({cardnumber:e.target.value})}},{key:"expiryDateChangeHandler",value:function(e){this.setState({expirydate:e.target.value})}},{key:"securityCodeChangeHandler",value:function(e){this.setState({securitycode:e.target.value})}},{key:"saveOrderPaymentMethod",value:function(){var e=this.props.location.search;if(void 0===e)return"";var t=e.replace("?id=","");V.a.post("".concat($,"/user/orders/payment"),{orderId:t,paymentMethod:this.state.paymentMethod}).then((function(e){console.log(e.data.message)})).catch()}},{key:"submitPayment",value:function(e){e.preventDefault(),"online"!==this.state.paymentMethod?this.saveOrderPaymentMethod():this.validator.allValid()?this.saveOrderPaymentMethod():this.validator.showMessages()}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(He.Helmet,null,l.a.createElement("title",null,"Order Payment - ",ee)),l.a.createElement(se,null),l.a.createElement("div",{className:"container-wrapper"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"card"},l.a.createElement("h2",{class:"text-center"},"Order Payment"),l.a.createElement("div",{className:"card-body"},l.a.createElement("form",{onSubmit:this.submitPayment},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Payment Method:"),l.a.createElement("select",{className:"form-control",id:"paymentMethod",value:this.state.paymentMethod,onChange:this.paymentMethodChangeHandler},l.a.createElement("option",{value:"",selected:"selected",disabled:"true"},"Select payment method"),l.a.createElement("option",{value:"online"},"Online Payment"),l.a.createElement("option",{value:"eft"},"EFT"),l.a.createElement("option",{value:"credit"},"Credit"))),"eft"===this.state.paymentMethod?l.a.createElement("div",{className:"form-group"},l.a.createElement("h4",null,"Use the following details: "),l.a.createElement("p",null,"Bank Name: Standard bank"),l.a.createElement("p",null,"Branch Code: 3352"),l.a.createElement("p",null,"Account Number: 10118431690"),l.a.createElement("p",null,"Accouint Type: Current Accout"),l.a.createElement("p",null,"Account Name: RJT PETROLEUM PRODUCTS"),l.a.createElement("p",{className:"text-danger"},"Please make sure to use your order number as refference. You should have your order number on your email.")):"","credit"===this.state.paymentMethod?l.a.createElement("div",{className:"form-group"},l.a.createElement("p",{className:"text-danger"},"This option should only be used by regular customers and if its not applicable to you we cannot proceed with your order. To find out if you qualify for this method email us at admin@rjtgroup.co.za")):"","online"===this.state.paymentMethod?l.a.createElement("div",null,l.a.createElement("h5",null,"Please fill your banking details below"),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{className:"form-control",type:"text",placeholder:"Cardholder Name","data-card-details":"cardholder-name",value:this.state.cardholder,onChange:this.cardHolderChangeHandler}),this.validator.message("card holder",this.state.cardholder,"required|alpha")),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{className:"form-control",type:"text",placeholder:"Card Number","data-card-details":"card-number",value:this.state.cardnumber,onChange:this.cardNumberChangeHandler}),this.validator.message("card number",this.state.cardnumber,"required|card_num")),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{className:"form-control",type:"text",placeholder:"Expiry Date","data-card-details":"expiry-date",value:this.state.expirydate,onChange:this.expiryDateChangeHandler}),this.validator.message("expiry date",this.state.expirydate,"required|card_exp")),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{className:"form-control",type:"text",placeholder:"Security/Cvc Code","data-card-details":"security-code",value:this.state.securitycode,onChange:this.securityCodeChangeHandler}),this.validator.message("security/cvc code",this.state.securitycode,"required|size:3"))):"",l.a.createElement("button",{value:"Submit",className:"btn btn-primary"},"Submit")))))),l.a.createElement(ue,null))}}]),t}(l.a.Component)),_e=Object(xe.e)(Qe),Be=(a(92),function(e){function t(){var e;return Object(U.a)(this,t),(e=Object(Q.a)(this,Object(_.a)(t).call(this))).submitHandler=function(t){if(t.preventDefault(),e.validator.allValid()){var n=a(93)(e.state.password);V.a.post("".concat($,"/users/login"),{email:e.state.emailAddress,password:n}).then((function(t){200===t.data.code?(X.a.save("session_token",t.data.token,{path:"/"}),X.a.save("user_session",t.data.user,{path:"/"}),X.a.save("user_id",t.data.id,{path:"/"}),window.location.href="".concat(Z,"/order")):e.setState({showModal:!0,errorMessage:t.data.message})})).catch()}else e.validator.showMessages()},e.validator=new we.a({autoForceUpdate:Object(Ne.a)(e),className:"text-danger"}),e.emailAddressChangeHandler=e.emailAddressChangeHandler.bind(Object(Ne.a)(e)),e.passwordChangeHandler=e.passwordChangeHandler.bind(Object(Ne.a)(e)),e.closeModal=e.closeModal.bind(Object(Ne.a)(e)),e.submitHandler=e.submitHandler.bind(Object(Ne.a)(e)),e.state={emailAddress:"",password:"",isValidUser:!1,showModal:!1,errorMessage:""},e}return Object(B.a)(t,e),Object(L.a)(t,[{key:"closeModal",value:function(){this.setState({showModal:!1})}},{key:"emailAddressChangeHandler",value:function(e){this.setState({emailAddress:e.target.value})}},{key:"passwordChangeHandler",value:function(e){this.setState({password:e.target.value})}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(He.Helmet,null,l.a.createElement("title",null,"Login - ",ee)),l.a.createElement(se,null),l.a.createElement("div",{className:"container-wrapper"},l.a.createElement("div",{className:"container login-form"},l.a.createElement("form",{onSubmit:this.submitHandler},l.a.createElement("h2",{className:"text-center"},"Log in"),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",placeholder:"Email address",value:this.state.emailAddress,onChange:this.emailAddressChangeHandler}),this.validator.message("email",this.state.emailAddress,"required|email")),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"password",className:"form-control",placeholder:"Password",value:this.state.password,onChange:this.passwordChangeHandler}),this.validator.message("password",this.state.password,"required")),l.a.createElement("div",{className:"form-group text-center"},l.a.createElement("label",{className:"checkbox-inline"},l.a.createElement("input",{type:"checkbox"})," Remember me")),l.a.createElement("div",{className:"form-group"},l.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block"},"Log in")),l.a.createElement("p",{className:"text-center"},"Don't have an account? ",l.a.createElement("a",{href:"/registration"},"Register")),l.a.createElement("p",{className:"text-center"},l.a.createElement("a",{href:"/forgot-password"},"Forgot Password?"))))),l.a.createElement(ue,null),l.a.createElement(Te.a,{show:this.state.showModal,onHide:this.closeModal,animation:!1},l.a.createElement(Te.a.Header,{closeButton:!0},l.a.createElement(Te.a.Title,null,"Login")),l.a.createElement(Te.a.Body,null,this.state.errorMessage),l.a.createElement(Te.a.Footer,null,l.a.createElement(De.a,{variant:"primary",onClick:this.closeModal},"Ok !!!"))))}}]),t}(l.a.Component)),We=function(e){function t(){var e;return Object(U.a)(this,t),(e=Object(Q.a)(this,Object(_.a)(t).call(this))).submitHandler=function(t){if(e.validator.allValid()){var n=a(93);V.a.post("".concat($,"/customers"),{organisationName:e.state.organisationName,emailAddress:e.state.emailAddress,telephone:e.state.telephone,address:e.state.address,personName:e.state.personName,cellphoneNumber:e.state.cellphoneNumber,password:n(e.state.password)}).then((function(){e.props.history.push("/login")})).catch((function(){console.log("failed to send email")})),e.props.history.push("/login")}else t.preventDefault(),e.validator.showMessages()},e.validator=new we.a({autoForceUpdate:Object(Ne.a)(e),className:"text-danger",validators:{matchPassword:{message:"The :attribute must match the password field.",rule:function(t,a,n){return t==e.state.password},messageReplace:function(t,a){return t.replace(":values",e.helpers.toSentence(a))},required:!0}}}),e.organisationNameChangeHandler=e.organisationNameChangeHandler.bind(Object(Ne.a)(e)),e.emailAddressChangeHandler=e.emailAddressChangeHandler.bind(Object(Ne.a)(e)),e.telephoneChangeHandler=e.telephoneChangeHandler.bind(Object(Ne.a)(e)),e.addressChangeHandler=e.addressChangeHandler.bind(Object(Ne.a)(e)),e.personNameChangeHandler=e.personNameChangeHandler.bind(Object(Ne.a)(e)),e.cellphoneNumberChangeHandler=e.cellphoneNumberChangeHandler.bind(Object(Ne.a)(e)),e.passwordChangeHandler=e.passwordChangeHandler.bind(Object(Ne.a)(e)),e.confirmPasswordChangeHandler=e.confirmPasswordChangeHandler.bind(Object(Ne.a)(e)),e.submitHandler=e.submitHandler.bind(Object(Ne.a)(e)),e.state={organisationName:"",emailAddress:"",telephone:"",address:"",personName:"",cellphoneNumber:"",password:"",confirmPassword:""},e}return Object(B.a)(t,e),Object(L.a)(t,[{key:"organisationNameChangeHandler",value:function(e){this.setState({organisationName:e.target.value})}},{key:"emailAddressChangeHandler",value:function(e){this.setState({emailAddress:e.target.value})}},{key:"telephoneChangeHandler",value:function(e){this.setState({telephone:e.target.value})}},{key:"addressChangeHandler",value:function(e){this.setState({address:e.target.value})}},{key:"personNameChangeHandler",value:function(e){this.setState({personName:e.target.value})}},{key:"cellphoneNumberChangeHandler",value:function(e){this.setState({cellphoneNumber:e.target.value})}},{key:"passwordChangeHandler",value:function(e){this.setState({password:e.target.value})}},{key:"confirmPasswordChangeHandler",value:function(e){this.setState({confirmPassword:e.target.value})}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(He.Helmet,null,l.a.createElement("title",null,"Registration - ",ee)),l.a.createElement(se,null),l.a.createElement("div",{className:"container-wrapper"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"card"},l.a.createElement("h2",{className:"text-center"},"Registration"),l.a.createElement("div",{className:"card-body"},l.a.createElement("form",{onSubmit:this.submitHandler},l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",id:"name",placeholder:"Organisation name",value:this.state.organisationName,onChange:this.organisationNameChangeHandler}),this.validator.message("organisation name",this.state.organisationName,"required|string")),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"email",className:"form-control",id:"email",placeholder:"Email address",value:this.state.emailAddress,onChange:this.emailAddressChangeHandler}),this.validator.message("email address",this.state.emailAddress,"required|email")),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",id:"number",placeholder:"Telehone number",value:this.state.telephone,onChange:this.telephoneChangeHandler}),this.validator.message("telephone number",this.state.telephone,"required|phone")),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",id:"address",placeholder:"Physical address",value:this.state.address,onChange:this.addressChangeHandler}),this.validator.message("physical address",this.state.address,"required|string")),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",id:"personName",placeholder:"Full contact person name",value:this.state.personName,onChange:this.personNameChangeHandler}),this.validator.message("contact person name",this.state.personName,"required|string")),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",id:"personNumber",placeholder:"Contact person cellphone number",value:this.state.cellphoneNumber,onChange:this.cellphoneNumberChangeHandler}),this.validator.message("contact person number",this.state.cellphoneNumber,"required|phone")),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"password",className:"form-control",id:"password",placeholder:"Password",value:this.state.password,onChange:this.passwordChangeHandler}),this.validator.message("password",this.state.password,"required|min:5")),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"password",className:"form-control",id:"confirmpassword",placeholder:"Confirm Password",value:this.state.confirmPassword,onChange:this.confirmPasswordChangeHandler}),this.validator.message("confirm password",this.state.confirmPassword,"required|min:5|matchPassword")),l.a.createElement("div",{className:"mx-auto"},l.a.createElement("button",{type:"submit",className:"btn btn-primary text-right"},"Submit"))))))),l.a.createElement(ue,null))}}]),t}(l.a.Component),Ve=function(e){function t(){var e;return Object(U.a)(this,t),(e=Object(Q.a)(this,Object(_.a)(t).call(this))).submitHandler=function(t){if(t.preventDefault(),e.validator.allValid()){var a=!1;V.a.post("".concat($,"/users/forgotpassword"),{email:e.state.emailAddress}).then((function(t){if(200!==t.data.code)e.setState({showModal:!0,errorMessage:t.data.message});else{a=!0;var n=Object(Se.renderEmail)(l.a.createElement(Se.Email,{title:"Reset password link"},l.a.createElement(Se.Item,null,"Hello ",t.data.username),l.a.createElement("br",null),l.a.createElement(Se.Item,null,"Click the link below to reset your JWTGroup application password."),l.a.createElement("br",null),l.a.createElement(Se.Item,null,"Link: ",Z,"/reset-password?",t.data.token)));V.a.post("".concat($,"/email"),{to:e.state.emailAddress,from:"admin@rjtgroup.co.za",subject:"Password Reset Link",bodyHtml:n}).then((function(a){200===a.data.code?e.setState({showModal:!0,errorMessage:"Your password reset information has been emailed to you. Check your emails.",redirectToLogin:!0}):e.setState({showModal:!0,errorMessage:t.data.message})})).catch((function(){e.setState({showModal:!0,errorMessage:"Failed to send email address"})}))}})).catch((function(){e.setState({showModal:!0,errorMessage:"Internal server error occured, please try again"})})),!0===a&&e.props.history.push("/login")}else e.validator.showMessages()},e.validator=new we.a({autoForceUpdate:Object(Ne.a)(e),className:"text-danger"}),e.emailAddressChangeHandler=e.emailAddressChangeHandler.bind(Object(Ne.a)(e)),e.closeModal=e.closeModal.bind(Object(Ne.a)(e)),e.submitHandler=e.submitHandler.bind(Object(Ne.a)(e)),e.state={emailAddress:"",password:"",isValidUser:!1,showModal:!1,errorMessage:"",redirectToLogin:!1},e}return Object(B.a)(t,e),Object(L.a)(t,[{key:"closeModal",value:function(){this.setState({showModal:!1}),!0===this.state.redirectToLogin&&this.props.history.push("/login")}},{key:"emailAddressChangeHandler",value:function(e){this.setState({emailAddress:e.target.value})}},{key:"passwordChangeHandler",value:function(e){this.setState({password:e.target.value})}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(He.Helmet,null,l.a.createElement("title",null,"Forgot Password - ",ee)),l.a.createElement(se,null),l.a.createElement("div",{className:"container-wrapper"},l.a.createElement("div",{className:"container login-form"},l.a.createElement("form",{onSubmit:this.submitHandler},l.a.createElement("h2",{className:"text-center"},"Forgot Password"),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",placeholder:"Email address",value:this.state.emailAddress,onChange:this.emailAddressChangeHandler}),this.validator.message("email",this.state.emailAddress,"required|email")),l.a.createElement("div",{className:"form-group"},l.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block"},"Email Reset Link")),l.a.createElement("p",{className:"text-center"},l.a.createElement("a",{href:"/registration"},"Create an Account"))))),l.a.createElement(ue,null),l.a.createElement(Te.a,{show:this.state.showModal,onHide:this.closeModal,animation:!1},l.a.createElement(Te.a.Header,{closeButton:!0},l.a.createElement(Te.a.Title,null,"Forgot Password")),l.a.createElement(Te.a.Body,null,this.state.errorMessage),l.a.createElement(Te.a.Footer,null,l.a.createElement(De.a,{variant:"primary",onClick:this.closeModal},"Ok !!!"))))}}]),t}(l.a.Component),Ye=Object(xe.e)(Ve),Ge=function(e){function t(){var e;return Object(U.a)(this,t),(e=Object(Q.a)(this,Object(_.a)(t).call(this))).submitHandler=function(t){if(t.preventDefault(),e.validator.allValid()){var n=a(93)(e.state.password),r=e.props.location.search;V.a.post("".concat($,"/users/updatepassword"),{token:r.substring(1),password:n}).then((function(t){200===t.data.code?e.setState({showModal:!0,errorMessage:t.data.message,redirectToLogin:!0}):e.setState({showModal:!0,errorMessage:t.data.message})})).catch((function(){e.setState({showModal:!0,errorMessage:"An internal error occured, please try again"})}))}else e.validator.showMessages()},e.validator=new we.a({autoForceUpdate:Object(Ne.a)(e),className:"text-danger",validators:{matchPassword:{message:"The :attribute must match the password field.",rule:function(t,a,n){return t==e.state.password},messageReplace:function(t,a){return t.replace(":values",e.helpers.toSentence(a))},required:!0}}}),e.passwordChangeHandler=e.passwordChangeHandler.bind(Object(Ne.a)(e)),e.confirmPasswordChangeHandler=e.confirmPasswordChangeHandler.bind(Object(Ne.a)(e)),e.closeModal=e.closeModal.bind(Object(Ne.a)(e)),e.submitHandler=e.submitHandler.bind(Object(Ne.a)(e)),e.state={username:"",confirmPassword:"",password:"",isValidUser:!1,users:[],showModal:!1,errorMessage:"",redirectToLogin:!1},e}return Object(B.a)(t,e),Object(L.a)(t,[{key:"closeModal",value:function(){this.setState({showModal:!1}),!0===this.state.redirectToLogin&&this.props.history.push("/login")}},{key:"confirmPasswordChangeHandler",value:function(e){this.setState({confirmPassword:e.target.value})}},{key:"passwordChangeHandler",value:function(e){this.setState({password:e.target.value})}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(He.Helmet,null,l.a.createElement("title",null,"Reset Password - ",ee)),l.a.createElement(se,null),l.a.createElement("div",{className:"container-wrapper"},l.a.createElement("div",{className:"container login-form"},l.a.createElement("form",{onSubmit:this.submitHandler},l.a.createElement("h2",{className:"text-center"},"Reset Password"),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"password",className:"form-control",placeholder:"New Password",value:this.state.password,onChange:this.passwordChangeHandler}),this.validator.message("new password",this.state.password,"required")),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"password",className:"form-control",placeholder:"Confirm Password",value:this.state.confirmPassword,onChange:this.confirmPasswordChangeHandler}),this.validator.message("confirm password",this.state.confirmPassword,"required|matchPassword")),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"pull-left checkbox-inline"},l.a.createElement("input",{type:"checkbox"})," Remember me")),l.a.createElement("div",{className:"form-group"},l.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block"},"Reset Password"))))),l.a.createElement(ue,null),l.a.createElement(Te.a,{show:this.state.showModal,onHide:this.closeModal,animation:!1},l.a.createElement(Te.a.Header,{closeButton:!0},l.a.createElement(Te.a.Title,null,"Reset Password")),l.a.createElement(Te.a.Body,null,this.state.errorMessage),l.a.createElement(Te.a.Footer,null,l.a.createElement(De.a,{variant:"primary",onClick:this.closeModal},"Ok !!!"))))}}]),t}(l.a.Component),ze=function(e){function t(){var e;return Object(U.a)(this,t),(e=Object(Q.a)(this,Object(_.a)(t).call(this))).state={orderIdForAction:null},e}return Object(B.a)(t,e),Object(L.a)(t,[{key:"componentDidMount",value:function(){var e=re;e||this.props.history.push("/login"),this.props.orderActions.getUserOrders(e)}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(He.Helmet,null,l.a.createElement("title",null,"User Dashboard - ",ee)),l.a.createElement(se,null),l.a.createElement("div",{className:"container-wrapper"},l.a.createElement("div",{className:"container dashboard"},void 0===this.props.orders?l.a.createElement("h2",null,"You do not have any orders"):l.a.createElement("h2",null,"Here is a list of your past orders"),l.a.createElement("div",{className:"table-responsive"},l.a.createElement("table",{className:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"#Order Number"),l.a.createElement("th",null,"Order Method"),l.a.createElement("th",null,"Creation Date"),l.a.createElement("th",null,"Collection/Delivery Date"),l.a.createElement("th",null,"Quantity (litres)"),l.a.createElement("th",null,"Total Price"))),l.a.createElement("tbody",null,void 0!==this.props.orders&&this.props.orders.map((function(e){var t="delivery"===e.OrderMethod?Date.parse(e.DeliveryDate):Date.parse(e.CollectionDate),a=(Date.now(),e.CreationDate.replace("Z","").split(/[-T:]/)),n=new Date(Date.UTC(a[0],a[1]-1,a[2],a[3],a[4],a[5]));return l.a.createElement("tr",null,l.a.createElement("td",null,e.OrderNumber),l.a.createElement("td",null,"delivery"===e.OrderMethod?"Delivery":"Collection"),l.a.createElement("td",null,new Intl.DateTimeFormat("en-GB",{year:"numeric",month:"long",day:"2-digit"}).format(n)),l.a.createElement("td",null,new Intl.DateTimeFormat("en-GB",{year:"numeric",month:"long",day:"2-digit"}).format(t)),l.a.createElement("td",null,e.Quantity),l.a.createElement("td",null,"R",e.TotalPrice))}))))))),l.a.createElement(ue,null))}}]),t}(l.a.Component),Je=Object(i.b)((function(e){return{orders:e.orderReducer.orders}}),(function(e){return{orderActions:Object(c.b)(n,e)}}))(Object(xe.e)(ze)),Ke=function(e){function t(){var e;return Object(U.a)(this,t),(e=Object(Q.a)(this,Object(_.a)(t).call(this))).approveQuote=e.approveQuote.bind(Object(Ne.a)(e)),e.declineQuote=e.declineQuote.bind(Object(Ne.a)(e)),e.editQuote=e.editQuote.bind(Object(Ne.a)(e)),e.deleteQuote=e.deleteQuote.bind(Object(Ne.a)(e)),e.handleClose=e.handleClose.bind(Object(Ne.a)(e)),e.continueWithOrderAction=e.continueWithOrderAction.bind(Object(Ne.a)(e)),e.continueWithOrderDeletion=e.continueWithOrderDeletion.bind(Object(Ne.a)(e)),e.handleAlertClose=e.handleAlertClose.bind(Object(Ne.a)(e)),e.state={showModal:!1,showAlert:!1,orderIdForAction:null,modalBody:"",modalTitle:"",modalAction:""},e}return Object(B.a)(t,e),Object(L.a)(t,[{key:"approveQuote",value:function(e){this.setState({modalAction:"approve",modalTitle:"Approve Order",modalBody:"Are you 100% sure that you want to approve the order?",showModal:!0,orderIdForAction:e.currentTarget.dataset.id})}},{key:"declineQuote",value:function(e){this.setState({modalAction:"decline",modalTitle:"Decline Order",modalBody:"Are you 100% sure that you want to decline the order?",showModal:!0,orderIdForAction:e.currentTarget.dataset.id})}},{key:"editQuote",value:function(e){}},{key:"deleteQuote",value:function(e){this.setState({modalAction:"delete",modalTitle:"Delete Order",modalBody:"Are you 100% sure that you want to delete the order?",showModal:!0,orderIdForAction:e.currentTarget.dataset.id})}},{key:"continueWithOrderAction",value:function(){switch(this.handleClose(),this.state.modalAction){case"delete":this.continueWithOrderDeletion();case"approve":this.updateOrderStatus("approved");case"decline":this.updateOrderStatus("declined")}}},{key:"continueWithOrderDeletion",value:function(){V.a.post("".concat($,"/order/delete"),{orderId:this.state.orderIdForAction}).then((function(){window.location.reload()})).catch()}},{key:"updateOrderStatus",value:function(e){V.a.post("".concat($,"/order/status"),{orderId:this.state.orderIdForAction,status:e}).then((function(){window.location.reload()})).catch()}},{key:"handleAlertClose",value:function(){this.setState({showAlert:!1})}},{key:"handleClose",value:function(){this.setState({showModal:!1})}},{key:"componentDidMount",value:function(){re||this.props.history.push("/login"),this.props.orderActions.getAllOrders()}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement(He.Helmet,null,l.a.createElement("title",null,"Admin Dashboard - ",ee)),l.a.createElement(se,null),l.a.createElement("div",{className:"container-wrapper"},l.a.createElement("div",{className:"container dashboard"},l.a.createElement("h2",null,"Admin Dashboard"),l.a.createElement("div",{className:"table-responsive"},l.a.createElement("table",{className:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"#Order Number"),l.a.createElement("th",null,"Organisation Name"),l.a.createElement("th",null,"Order Method"),l.a.createElement("th",null,"Creation Date"),l.a.createElement("th",null,"Collection/Delivery Date"),l.a.createElement("th",null,"Quantity (litres)"),l.a.createElement("th",null,"Total Price"),l.a.createElement("th",null,"Payment"),l.a.createElement("th",null,"Action"))),l.a.createElement("tbody",null,void 0!==this.props.orders&&this.props.orders.map((function(t,a){var n="delivery"===t.OrderMethod?Date.parse(t.DeliveryDate):Date.parse(t.CollectionDate),r=Date.now(),s=t.CreationDate.replace("Z","").split(/[-T:]/),o=new Date(Date.UTC(s[0],s[1]-1,s[2],s[3],s[4],s[5]));return l.a.createElement("tr",{key:a},l.a.createElement("td",null,t.OrderNumber),l.a.createElement("td",null,t.CompanyName),l.a.createElement("td",null,t.OrderMethod),l.a.createElement("td",null,new Intl.DateTimeFormat("en-GB",{year:"numeric",month:"long",day:"2-digit"}).format(o)),l.a.createElement("td",null,new Intl.DateTimeFormat("en-GB",{year:"numeric",month:"long",day:"2-digit"}).format(n)),l.a.createElement("td",null,t.Quantity),l.a.createElement("td",null,"R",t.TotalPrice),l.a.createElement("td",null,t.PaymentReceived?"Paid via ".concat(t.PaymentMethod):"Pending"),n>r?l.a.createElement("td",null,"credit"===t.PaymentMethod&&"approved"!==t.Status&&"declined"!==t.Status?l.a.createElement("div",null,l.a.createElement("a",{id:"approve-order","data-id":t.Id,href:"#",className:"btn btn-primary",onClick:e.approveQuote.bind(e)},"Approve"),l.a.createElement("a",{id:"decline-order","data-id":t.Id,href:"#",className:"btn btn-primary",onClick:e.declineQuote.bind(e)},"Decline")):l.a.createElement("div",null,l.a.createElement("p",null,"Active"))):l.a.createElement("td",null,"Processed"))}))))))),l.a.createElement(ue,null),l.a.createElement(Te.a,{show:this.state.showModal,onHide:this.handleClose,animation:!1},l.a.createElement(Te.a.Header,{closeButton:!0},l.a.createElement(Te.a.Title,null,this.state.modalTitle)),l.a.createElement(Te.a.Body,null,this.state.modalBody),l.a.createElement(Te.a.Footer,null,l.a.createElement(De.a,{variant:"secondary",onClick:this.continueWithOrderAction},"Yes"),l.a.createElement(De.a,{variant:"primary",onClick:this.handleClose},"No"))))}}]),t}(l.a.Component),Xe=Object(i.b)((function(e){return{orders:e.orderReducer.orders}}),(function(e){return{orderActions:Object(c.b)(n,e)}}))(Object(xe.e)(Ke)),Ze=function(e){function t(){var e;return Object(U.a)(this,t),(e=Object(Q.a)(this,Object(_.a)(t).call(this))).state={isAdmin:!1},e}return Object(B.a)(t,e),Object(L.a)(t,[{key:"componentWillMount",value:function(){var e;return F.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F.a.awrap(V.a.post("".concat($,"/users/user"),{userId:re}));case 2:e=t.sent,this.setState({isAdmin:e.data.admin});case 4:case"end":return t.stop()}}),null,this)}},{key:"render",value:function(){return l.a.createElement("div",null,this.state.isAdmin?l.a.createElement(Xe,null):l.a.createElement(Je,null))}}]),t}(l.a.Component),$e=function(e){function t(){var e;return Object(U.a)(this,t),(e=Object(Q.a)(this,Object(_.a)(t).call(this))).sendEmail=e.sendEmail.bind(Object(Ne.a)(e)),e.closeModal=e.closeModal.bind(Object(Ne.a)(e)),e.emailChangeHandler=e.emailChangeHandler.bind(Object(Ne.a)(e)),e.validator=new we.a({autoForceUpdate:Object(Ne.a)(e),className:"text-danger"}),e.state={distancePrice:0,dieselPrice:0,price:0,ordermethod:"",email:"",showModal:!1,errorMessage:""},e}return Object(B.a)(t,e),Object(L.a)(t,[{key:"closeModal",value:function(){this.setState({showModal:!1}),this.props.history.push("/order")}},{key:"emailChangeHandler",value:function(e){this.setState({email:e.target.value})}},{key:"componentDidMount",value:function(){if(""!==this.props.quoteDistance){var e=parseFloat(this.props.quoteFinalDieselPrice),t=parseFloat(this.props.quoteDistance)*ae;this.setState({ordermethod:"Delivery",distancePrice:t,dieselPrice:e,price:e+t})}else this.setState({ordermethod:"On Site",price:this.props.quoteFinalDieselPrice})}},{key:"saveQuoteDetails",value:function(){var e=this;V.a.post("".concat($,"/quote"),{email:"".concat(this.state.email),ordermethod:this.state.ordermethod,price:this.state.price}).then().catch((function(){e.setState({showModal:!0,errorMessage:"An internal error has occured. Please try again later."})}))}},{key:"sendEmail",value:function(e){var t=this;e.preventDefault();var a=Object(Se.renderEmail)(l.a.createElement(Se.Email,{title:"Reset password link"},l.a.createElement(Se.Item,null,"Dear User"),l.a.createElement("br",null),l.a.createElement(Se.Item,null,"You have requested a diesel quote from the RJT Group application. Here are your quote details below:"),l.a.createElement("br",null),l.a.createElement(Se.Item,null,"Quote Method: ",this.state.ordermethod),l.a.createElement(Se.Item,null,"Total Price: R",this.state.price," ",0!==this.state.distancePrice?"(including transportation)":""),l.a.createElement("br",null),l.a.createElement(Se.Item,null,"Best Regards"),l.a.createElement(Se.Item,null,"RJT Group")));this.validator.allValid()?V.a.post("".concat($,"/email"),{to:"".concat(this.state.email),from:"admin@rjtgroup.co.za",subject:"RJT Group Diesel Quotation Invoice",bodyHtml:a}).then((function(e){200===e.data.code?(t.setState({showModal:!0,errorMessage:"Email has been sent"}),t.saveQuoteDetails()):t.setState({showModal:!0,errorMessage:e.data.message})})).catch((function(){t.setState({showModal:!0,errorMessage:"An internal error has occured. Please try again later."})})):this.validator.showMessages()}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(He.Helmet,null,l.a.createElement("title",null,"Quote details - ",ee)),l.a.createElement(se,null),l.a.createElement("div",{className:"container-wrapper"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"card"},l.a.createElement("h2",{className:"text-center"},"Quote Details"),l.a.createElement("div",{className:"card-body"},l.a.createElement("div",{className:""},l.a.createElement("p",null,"Quote Method: ",this.state.ordermethod),l.a.createElement("p",null,"Total Price: R",this.state.price," ","Delivery"===this.state.ordermethod?"(Including transportation)":"")),l.a.createElement("div",{className:"form-group"},l.a.createElement("h6",null,"To email quote fill this field"),l.a.createElement("input",{className:"form-control",type:"email",placeholder:"Email address",value:this.state.email,onChange:this.emailChangeHandler}),this.validator.message("email",this.state.email,"required|email")),l.a.createElement("div",{className:"labelWithButtons"},l.a.createElement("div",null,l.a.createElement("a",{className:"btn btn-primary text-right quote-details-button",href:"/order"},"Order Diesel")),l.a.createElement("div",null,l.a.createElement("a",{className:"btn btn-primary text-right",href:"#",onClick:this.sendEmail},"Email Quote"))))))),l.a.createElement(ue,null),l.a.createElement(Te.a,{show:this.state.showModal,onHide:this.closeModal,animation:!1},l.a.createElement(Te.a.Header,{closeButton:!0},l.a.createElement(Te.a.Title,null,"Forgot Password")),l.a.createElement(Te.a.Body,null,this.state.errorMessage),l.a.createElement(Te.a.Footer,null,l.a.createElement(De.a,{variant:"primary",onClick:this.closeModal},"Ok !!!"))))}}]),t}(l.a.Component),et=Object(i.b)((function(e){return{quoteDistance:e.quoteReducer.quoteDistance,quoteFinalDieselPrice:e.quoteReducer.quoteFinalDieselPrice}}),(function(e){return{dispatch:e}}))($e);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var tt,at=a(35),nt=function(e){function t(){var e;return Object(U.a)(this,t),(e=Object(Q.a)(this,Object(_.a)(t).call(this))).state={items:[]},e}return Object(B.a)(t,e),Object(L.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("".concat($,"/users")).then((function(e){return e.json()})).then((function(t){t&&t.length>0&&e.setState({items:t})}))}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(He.Helmet,null,l.a.createElement("title",null,"Users | ",ee)),l.a.createElement(se,null),l.a.createElement("div",{className:"container-wrapper"},l.a.createElement("h2",null,"Users listing"),l.a.createElement("div",{className:"container"},l.a.createElement("table",{className:"table table-striped"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{scope:"col"},"#"),l.a.createElement("th",{scope:"col"},"Company Name"),l.a.createElement("th",{scope:"col"},"Telephone"),l.a.createElement("th",{scope:"col"},"Email address"),l.a.createElement("th",{scope:"col"},"Address"),l.a.createElement("th",{scope:"col"},"Contact person name"),l.a.createElement("th",{scope:"col"},"Contact person cellphone"))),l.a.createElement("tbody",null,this.state.items.map((function(e){return l.a.createElement("tr",null,l.a.createElement("th",{scope:"row"},e.Id),l.a.createElement("td",null,e.CompanyName),l.a.createElement("td",null,e.CompanyTelephoneNumber),l.a.createElement("td",null,e.EmailAddress),l.a.createElement("td",null,e.Address),l.a.createElement("td",null,e.ContactPersonName),l.a.createElement("td",null,e.ContactPersonCellphone))})))))),l.a.createElement(ue,null))}}]),t}(l.a.Component),rt=function(e){function t(){var e;return Object(U.a)(this,t),(e=Object(Q.a)(this,Object(_.a)(t).call(this))).makeNonAdmin=e.makeNonAdmin.bind(Object(Ne.a)(e)),e.makeAdmin=e.makeAdmin.bind(Object(Ne.a)(e)),e.handleClose=e.handleClose.bind(Object(Ne.a)(e)),e.continueWithUpdateAction=e.continueWithUpdateAction.bind(Object(Ne.a)(e)),e.state={users:[],userId:null,showModal:!1,modalBody:"",modalTitle:"",modalAction:null},e}return Object(B.a)(t,e),Object(L.a)(t,[{key:"componentDidMount",value:function(){var e=this;return F.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F.a.awrap(V.a.post("".concat($,"/users/user"),{userId:re}));case 2:t.sent.data.admin||this.props.history.push("/"),V.a.get("".concat($,"/users")).then((function(t){e.setState({users:t.data.users})})).catch();case 5:case"end":return t.stop()}}),null,this)}},{key:"handleClose",value:function(){this.setState({showModal:!1})}},{key:"makeNonAdmin",value:function(e){this.setState({modalAction:"non-admin",modalTitle:"Update Admin Rights",modalBody:"Are you 100% sure that you want to remove admin rights for this user?",showModal:!0,userId:e.currentTarget.dataset.id})}},{key:"makeAdmin",value:function(e){this.setState({modalAction:"make-admin",modalTitle:"Update Admin Rights",modalBody:"Are you 100% sure that you want to give admin rights to this user?",showModal:!0,userId:e.currentTarget.dataset.id})}},{key:"continueWithUpdateAction",value:function(){var e=this;this.handleClose(),"non-admin"===this.state.modalAction?V.a.post("".concat($,"/user/admin"),{userId:this.state.userId,isAdmin:0}).then((function(t){200===t.data.status&&e.setState({modalAction:null}),window.location.reload()})).catch():"make-admin"===this.state.modalAction&&V.a.post("".concat($,"/user/admin"),{userId:this.state.userId,isAdmin:1}).then((function(t){200===t.data.status&&e.setState({modalAction:null}),window.location.reload()})).catch()}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement(He.Helmet,null,l.a.createElement("title",null,"Manage Users - ",ee)),l.a.createElement(se,null),l.a.createElement("div",{className:"container-wrapper"},l.a.createElement("div",{className:"container dashboard"},l.a.createElement("h2",null,"Site Users"),l.a.createElement("div",{className:"table-responsive"},l.a.createElement("table",{className:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"#User Id"),l.a.createElement("th",null,"Organisation Name"),l.a.createElement("th",null,"Telephone"),l.a.createElement("th",null,"Email Address"),l.a.createElement("th",null,"Creation Date"),l.a.createElement("th",null,"Contact Person Name"),l.a.createElement("th",null,"Contact Person Cellphone"),l.a.createElement("th",null,"Action"))),l.a.createElement("tbody",null,void 0!==this.state.users&&this.state.users.map((function(t){return l.a.createElement("tr",null,l.a.createElement("th",{scope:"row"},t.Id),l.a.createElement("td",null,t.CompanyName),l.a.createElement("td",null,t.CompanyTelephoneNumber),l.a.createElement("td",null,t.EmailAddress),l.a.createElement("td",null,t.CreatedDate),l.a.createElement("td",null,t.ContactPersonName),l.a.createElement("td",null,t.ContactPersonCellphone),l.a.createElement("td",null,t.IsAdmin?l.a.createElement("a",{id:"remove-admin","data-id":t.Id,href:"#",className:"btn btn-primary",onClick:e.makeNonAdmin.bind(e)},"Make Non-Admin"):l.a.createElement("a",{id:"make-admin","data-id":t.Id,href:"#",className:"btn btn-primary",onClick:e.makeAdmin.bind(e)},"Make Admin")))}))))))),l.a.createElement(ue,null),l.a.createElement(Te.a,{show:this.state.showModal,onHide:this.handleClose,animation:!1},l.a.createElement(Te.a.Header,{closeButton:!0},l.a.createElement(Te.a.Title,null,this.state.modalTitle)),l.a.createElement(Te.a.Body,null,this.state.modalBody),l.a.createElement(Te.a.Footer,null,l.a.createElement(De.a,{variant:"secondary",onClick:this.continueWithUpdateAction},"Yes"),l.a.createElement(De.a,{variant:"primary",onClick:this.handleClose},"No"))))}}]),t}(l.a.Component),lt=(tt=window.REDUX_INITIAL_DATA,Object(c.d)(x,tt,Object(c.a)(q.a))),st=l.a.createElement(at.a,null,l.a.createElement("div",null,l.a.createElement(xe.a,{exact:!0,path:"/",component:ke}),l.a.createElement(xe.a,{path:"/contact",component:Me}),l.a.createElement(xe.a,{exact:!0,path:"/order",component:Le}),l.a.createElement(xe.a,{path:"/order/payment",component:_e}),l.a.createElement(xe.a,{path:"/quote/details",component:et}),l.a.createElement(xe.a,{path:"/dashboard",component:Ze}),l.a.createElement(xe.a,{path:"/login",component:Be}),l.a.createElement(xe.a,{path:"/registration",component:We}),l.a.createElement(xe.a,{path:"/forgot-password",component:Ye}),l.a.createElement(xe.a,{path:"/reset-password",component:Ge}),l.a.createElement(xe.a,{path:"/manage-users",component:rt}),l.a.createElement(xe.a,{path:"/users",component:nt})));o.a.render(l.a.createElement(i.a,{store:lt},st),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},91:function(e,t,a){},92:function(e,t,a){}},[[160,1,2]]]);
//# sourceMappingURL=main.304be88d.chunk.js.map